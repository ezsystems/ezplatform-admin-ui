{% extends '@KnpMenu/menu.html.twig' %}

{% block root %}
    {% do item.setChildrenAttribute('class', 'nav navbar-nav ez-user-menu__items ez-user-menu__items--hidden') %}
    {{ parent() }}
{% endblock %}

{% block item %}
    {% if item.name != 'root' %}
        {% set linkAttributes = item.linkAttributes|merge({'class': (item.linkAttributes.class|default('') ~ ' nav-link')|trim}) %}
        {% set labelAttributes = item.labelAttributes|merge({'class': (item.labelAttributes.class|default('') ~ ' nav-link')|trim}) %}
        {% set attributes = item.attributes|merge({'class': (item.attributes.class|default('') ~ ' nav-item ez-user-menu__item')|trim}) %}
        {% do item.setLinkAttributes(linkAttributes) %}
        {% do item.setLabelAttributes(labelAttributes) %}
        {% do item.setAttributes(attributes) %}
    {% endif %}
    {% if item.getExtra('template') is not null %}
        {% include item.getExtra('template') ignore missing with options only %}
    {% endif %}
    {{ parent() }}
{% endblock %}
